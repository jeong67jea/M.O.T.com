
/* ===== Mobile Nav Overlay v1: portrait single-line header -> burger; submenu over carousel ===== */

/* Default (desktop): do nothing special; ensure z-index sane */
header.navbar{ position:relative; z-index: 10000; isolation:isolate; }
header.navbar nav.primary{ position:relative; z-index: 10010; }

/* Base burger hidden by default */
.menu-toggle{ display:none; }
.menu-burger{ display:none; user-select:none; cursor:pointer; padding:8px 10px; font-size:20px; border-radius:8px; }

/* Mobile portrait (and generally touch) */
@media (max-width: 768px), (hover: none){
  /* Show burger, keep header single-line */
  .menu-burger{ display:inline-block; }
  header.navbar .inner{ display:flex; align-items:center; justify-content:space-between; gap:8px; white-space:nowrap; }
  nav.primary .menu{ flex-wrap:nowrap; gap:8px; }
  /* Collapse nav into overlay when toggled */
  header.navbar:has(#menu-toggle:checked) nav.primary{
    position: fixed;
    inset: 0;
    background: #ffffff;
    z-index: 200000;
    padding: 16px;
    overflow-y: auto;
  }
  header.navbar:has(#menu-toggle:checked) .menu-burger{
    position: fixed; top: 10px; right: 12px; z-index: 200010;
  }
  header.navbar:has(#menu-toggle:checked) nav.primary .menu{
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }
  /* Submenu expanded inside overlay; never under carousel */
  header.navbar:has(#menu-toggle:checked) nav.primary .submenu{
    position: static;
    display: block;
    box-shadow: none;
    border: none;
    padding-left: 12px;
    z-index: 200020;
  }
}

/* Defensive: prevent horizontal scroll due to nav */
html, body{ overflow-x: hidden; }
